{"ast":null,"code":"import _slicedToArray from\"/Users/jasonchen/Desktop/NEU Align/CS5610/e-connect-dul/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./Navigation.css\";import{Link}from\"react-router-dom\";import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navigation=function Navigation(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];// check if user logged in\nvar getProfile=function getProfile(){fetch(\"/getusers\").then(function(res){return res.json();}).then(function(user){console.log(\"get user success length\",user.user);setUser(user);}).catch(function(){console.log(\"get user fail!!!!\");setUser({});});};useEffect(getProfile,[]);var logout=function logout(){setUser(undefined);fetch(\"/logout\").then(function(res){return res.json();}).then(function(ret){if(ret.isLoggedOut){console.log(\"logout successfully\");}else{console.log(\"logout fail\");}});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark navbar-color\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand logo nav-link\",children:\"E-connect\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarText\",type:\"button\",\"aria-controls\":\"navbarText\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse submenu\",id:\"navbarText\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav me-auto mb-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{to:\"/search\",className:\"nav-link\",children:[\"Search\",/*#__PURE__*/_jsx(\"img\",{className:\"search-icon\",src:\"images/search-icon.png\",alt:\"search-icon\"})]})}),user.user!==undefined?/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-link\",onClick:logout,children:\"Logout\"})}):/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-link\",children:\"Login\"})}),user.user===undefined?/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"nav-link\",children:\"Signup\"})}):\"\",user.user!==undefined?/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"nav-link\",children:\"Profile\"})}):\"\"]})})]})})});};export default Navigation;","map":{"version":3,"names":["Link","useState","useEffect","Navigation","user","setUser","getProfile","fetch","then","res","json","console","log","catch","logout","undefined","ret","isLoggedOut"],"sources":["/Users/jasonchen/Desktop/NEU Align/CS5610/e-connect-dul/frontend/src/components/Navigation/index.js"],"sourcesContent":["import \"./Navigation.css\";\nimport { Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\n\nconst Navigation = () => {\n  const [user, setUser] = useState({});\n\n  // check if user logged in\n  const getProfile = () => {\n    fetch(\"/getusers\")\n      .then((res) => res.json())\n      .then((user) => {\n        console.log(\"get user success length\", user.user);\n        setUser(user);\n      })\n      .catch(() => {\n        console.log(\"get user fail!!!!\");\n        setUser({});\n      });\n  };\n  useEffect(getProfile, []);\n  const logout = () => {\n    setUser(undefined);\n    fetch(\"/logout\")\n      .then((res) => res.json())\n      .then((ret) => {\n        if (ret.isLoggedOut) {\n          console.log(\"logout successfully\");\n        } else {\n          console.log(\"logout fail\");\n        }\n      });\n  };\n  return (\n    <>\n      <nav className=\"navbar navbar-expand-lg navbar-dark navbar-color\">\n        <div className=\"container-fluid\">\n          <Link to=\"/\" className=\"navbar-brand logo nav-link\">\n            E-connect\n          </Link>\n          <button\n            className=\"navbar-toggler\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target=\"#navbarText\"\n            type=\"button\"\n            aria-controls=\"navbarText\"\n            aria-expanded=\"false\"\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n\n          <div className=\"collapse navbar-collapse submenu\" id=\"navbarText\">\n            <ul className=\"navbar-nav me-auto mb-lg-0\">\n              <li className=\"nav-item\">\n                <Link to=\"/search\" className=\"nav-link\">\n                  Search\n                  <img\n                    className=\"search-icon\"\n                    src=\"images/search-icon.png\"\n                    alt=\"search-icon\"\n                  />\n                </Link>\n              </li>\n              {user.user !== undefined ? (\n                <li className=\"nav-item\">\n                  <Link to=\"/\" className=\"nav-link\" onClick={logout}>\n                    Logout\n                  </Link>\n                </li>\n              ) : (\n                <li className=\"nav-item\">\n                  <Link to=\"/login\" className=\"nav-link\">\n                    Login\n                  </Link>\n                </li>\n              )}\n              {user.user === undefined ? (\n                <li className=\"nav-item\">\n                  <Link to=\"/signup\" className=\"nav-link\">\n                    Signup\n                  </Link>\n                </li>\n              ) : (\n                \"\"\n              )}\n\n              {user.user !== undefined ? (\n                <li className=\"nav-item\">\n                  <Link to=\"/profile\" className=\"nav-link\">\n                    Profile\n                  </Link>\n                </li>\n              ) : (\n                \"\"\n              )}\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </>\n  );\n};\nNavigation.propTypes = {};\nexport default Navigation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}