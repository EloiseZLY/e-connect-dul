{"ast":null,"code":"import _slicedToArray from\"/Users/jasonchen/Desktop/NEU Align/CS5610/e-connect-dul/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import\"./Cardlist.css\";import Card from\"../Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Cardlist=function Cardlist(_ref){var status=_ref.status;var defaultUser=[{firstName:\"Jimmy\",lastName:\"Zhang\",email:\"jimmylovewebdev@gmail.com\",intro:\"Hi, My name is Jimmy and I'm a software engineer. My current focus is taking John's web class.\",phone:\"206123456789\",job:\"Web Developer\",location:\"San Mateo, CA\",profileImg:\"/images/profile-icon1.png\",id:\"jimmy1\"},{profileImg:\"\",firstName:\"wanye\",lastName:\"tseng\",email:\"@@@\",intro:\"3\",phone:\"3\",job:\"3\",location:\"3\",id:\"jimmy1\"},{profileImg:\"\",firstName:\"jason\",lastName:\"chen\",email:\"123@gmail.com\",intro:\"555\",phone:\"55\",job:\"555\",location:\"555\",id:\"jimmy2\"},{profileImg:\"\",firstName:\"bob\",lastName:\"lin\",email:\"@\",intro:\"44\",phone:\"444\",job:\"44\",location:\"444\",id:\"jimmy3\"}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isDefault=_useState6[0],setIsDefault=_useState6[1];// check if user logged in\nvar getProfile=function getProfile(){fetch(\"/getusers\").then(function(res){return res.json();}).then(function(user){console.log(\"get user success\");setUser(user);}).catch(function(){console.log(\"get user fail!!!!\");setUser({});});};var populateCards=function populateCards(){if(user!==null){fetch(\"/get\".concat(status,\"Cards\")).then(function(res){return res.json();}).then(function(item){console.log(\"fetching success\");setCards(item);setIsDefault(false);// console.log(\"current cards len\", cards.legnth);\n}).catch(function(){console.log(\"fetching error\");});}else{console.log(\"use default users\");setCards(defaultUser);}};useEffect(getProfile,[]);useEffect(populateCards,[user,status]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row py-3 mx-5\",children:[status===\"My\"?/*#__PURE__*/_jsx(\"h3\",{className:\"p-3\",children:\"Your Cards\"}):/*#__PURE__*/_jsx(\"h3\",{className:\"p-3\",children:\"Collections\"}),cards!==undefined&&cards.length>0?cards.map(function(items){return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(Card,{currentUser:items})},items.id);}):/*#__PURE__*/_jsx(\"h3\",{className:\"p-3\",children:\"You don't have any cards here!\"}),isDefault?/*#__PURE__*/_jsx(\"h2\",{children:\"These are default cards\"}):null]})});};export default Cardlist;","map":{"version":3,"names":["useState","useEffect","Card","Cardlist","status","defaultUser","firstName","lastName","email","intro","phone","job","location","profileImg","id","cards","setCards","user","setUser","isDefault","setIsDefault","getProfile","fetch","then","res","json","console","log","catch","populateCards","item","undefined","length","map","items"],"sources":["/Users/jasonchen/Desktop/NEU Align/CS5610/e-connect-dul/frontend/src/components/Cardlist/index.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Cardlist.css\";\nimport Card from \"../Card\";\n\nconst Cardlist = ({ status }) => {\n  const defaultUser = [\n    {\n      firstName: \"Jimmy\",\n      lastName: \"Zhang\",\n      email: \"jimmylovewebdev@gmail.com\",\n      intro:\n        \"Hi, My name is Jimmy and I'm a software engineer. My current focus is taking John's web class.\",\n      phone: \"206123456789\",\n      job: \"Web Developer\",\n      location: \"San Mateo, CA\",\n      profileImg: \"/images/profile-icon1.png\",\n      id: \"jimmy1\",\n    },\n    {\n      profileImg: \"\",\n      firstName: \"wanye\",\n      lastName: \"tseng\",\n      email: \"@@@\",\n      intro: \"3\",\n      phone: \"3\",\n      job: \"3\",\n      location: \"3\",\n      id: \"jimmy1\",\n    },\n    {\n      profileImg: \"\",\n      firstName: \"jason\",\n      lastName: \"chen\",\n      email: \"123@gmail.com\",\n      intro: \"555\",\n      phone: \"55\",\n      job: \"555\",\n      location: \"555\",\n      id: \"jimmy2\",\n    },\n    {\n      profileImg: \"\",\n      firstName: \"bob\",\n      lastName: \"lin\",\n      email: \"@\",\n      intro: \"44\",\n      phone: \"444\",\n      job: \"44\",\n      location: \"444\",\n      id: \"jimmy3\",\n    },\n  ];\n  const [cards, setCards] = useState([]);\n  const [user, setUser] = useState({});\n  const [isDefault, setIsDefault] = useState(true);\n\n  // check if user logged in\n  const getProfile = () => {\n    fetch(\"/getusers\")\n      .then((res) => res.json())\n      .then((user) => {\n        console.log(\"get user success\");\n        setUser(user);\n      })\n      .catch(() => {\n        console.log(\"get user fail!!!!\");\n        setUser({});\n      });\n  };\n\n  const populateCards = () => {\n    if (user !== null) {\n      fetch(`/get${status}Cards`)\n        .then((res) => res.json())\n        .then((item) => {\n          console.log(\"fetching success\");\n          setCards(item);\n          setIsDefault(false);\n          // console.log(\"current cards len\", cards.legnth);\n        })\n        .catch(() => {\n          console.log(\"fetching error\");\n        });\n    } else {\n      console.log(\"use default users\");\n      setCards(defaultUser);\n    }\n  };\n  useEffect(getProfile, []);\n  useEffect(populateCards, [user, status]);\n\n  return (\n    <>\n      <div className=\"row py-3 mx-5\">\n        {status === \"My\" ? (\n          <h3 className=\"p-3\">Your Cards</h3>\n        ) : (\n          <h3 className=\"p-3\">Collections</h3>\n        )}\n\n        {cards !== undefined && cards.length > 0 ? (\n          cards.map((items) => (\n            <div className=\"col-sm-3\" key={items.id}>\n              <Card currentUser={items} />\n            </div>\n          ))\n        ) : (\n          <h3 className=\"p-3\">You don't have any cards here!</h3>\n        )}\n        {isDefault ? <h2>These are default cards</h2> : null}\n      </div>\n    </>\n  );\n};\nCardlist.propTypes = {\n  status: PropTypes.string.isRequired,\n};\nexport default Cardlist;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}